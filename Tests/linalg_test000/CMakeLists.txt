project(linalg_test000)
set(SOURCE main.cpp)

add_executable(linalg_test000 ${SOURCE})
target_link_libraries(linalg_test000 inmost)

if(USE_MPI)
  message("linking linalg_test000 with MPI")
  target_link_libraries(linalg_test000 ${MPI_LIBRARIES}) 
  if(MPI_LINK_FLAGS)
    set_target_properties(linalg_test000 PROPERTIES LINK_FLAGS "${MPI_LINK_FLAGS}")
  endif() 
endif(USE_MPI)


add_test(NAME linalg_test000_matmul         COMMAND $<TARGET_FILE:linalg_test000> 0)
add_test(NAME linalg_test000_matdiv         COMMAND $<TARGET_FILE:linalg_test000> 1)
add_test(NAME linalg_test000_matadd         COMMAND $<TARGET_FILE:linalg_test000> 2)
add_test(NAME linalg_test000_matsub         COMMAND $<TARGET_FILE:linalg_test000> 3)
add_test(NAME linalg_test000_svd_square     COMMAND $<TARGET_FILE:linalg_test000> 4)
add_test(NAME linalg_test000_svd_ngtm       COMMAND $<TARGET_FILE:linalg_test000> 5)
add_test(NAME linalg_test000_svd_nltm       COMMAND $<TARGET_FILE:linalg_test000> 6)
add_test(NAME linalg_test000_inv_square     COMMAND $<TARGET_FILE:linalg_test000> 7)
add_test(NAME linalg_test000_inv_ngtm       COMMAND $<TARGET_FILE:linalg_test000> 8)
add_test(NAME linalg_test000_inv_nltm       COMMAND $<TARGET_FILE:linalg_test000> 9)
add_test(NAME linalg_test000_cholinv_square COMMAND $<TARGET_FILE:linalg_test000> 10)
add_test(NAME linalg_test000_pinv_square    COMMAND $<TARGET_FILE:linalg_test000> 11)
add_test(NAME linalg_test000_pinv_ngtm      COMMAND $<TARGET_FILE:linalg_test000> 12)
add_test(NAME linalg_test000_pinv_nltm      COMMAND $<TARGET_FILE:linalg_test000> 13)
add_test(NAME linalg_test000_sol_square     COMMAND $<TARGET_FILE:linalg_test000> 14)
add_test(NAME linalg_test000_sol_ngtm       COMMAND $<TARGET_FILE:linalg_test000> 15)
add_test(NAME linalg_test000_sol_nltm       COMMAND $<TARGET_FILE:linalg_test000> 16)
add_test(NAME linalg_test000_cholsol_square COMMAND $<TARGET_FILE:linalg_test000> 17)
add_test(NAME linalg_test000_psol_square    COMMAND $<TARGET_FILE:linalg_test000> 18)
add_test(NAME linalg_test000_psol_ngtm      COMMAND $<TARGET_FILE:linalg_test000> 19)
add_test(NAME linalg_test000_psol_nltm      COMMAND $<TARGET_FILE:linalg_test000> 20)
add_test(NAME linalg_test000_transform      COMMAND $<TARGET_FILE:linalg_test000> 21)
add_test(NAME linalg_test000_cross_prod     COMMAND $<TARGET_FILE:linalg_test000> 22)
add_test(NAME linalg_test000_cross_mat      COMMAND $<TARGET_FILE:linalg_test000> 23)
